 
Geachte heer P. van Leent,
Hierbij heb ik de behoefteanalyse vastgesteld in deze document. Ook heb ik u feedback verwerkt. Mijn vraag aan u is dat ik een akkoord kan krijgen om het project te vervolgen.
Ik hoop op een reactie.
Met vriendelijke groet,
Ahmed Azouag
Bijlage 2 Sjabloon Behoefteanalyse 
Project	:	Sportschool FitNu!
Opdrachtgever	:	P. van Leent
Auteur	:	
Datum	:	25-10-2021
Versiebeheer	:	1.0
Datum	Versie	Auteur	Aanpassing
28-10-2021	2.0	Ahmed Azouag	Paar veranderingen aangebracht, omdat u mij een feedback heeft gegeven van de behoefteanalyse.
			1	Opdracht
Het bedrijf SPLIT waar Ahmed Azouag werkt, helpt bij het realiseren van ICT-projecten. FitNu! heeft SPLIT gevraagd om een nieuwe ICT-infrastructuur te ontwerpen om de behoefte te voorzien van het bedrijf FitNu!. In dit document ga ik de eisen en wensen voor het bedrijf FitNu! vaststellen.
2	Aanleiding
Het bedrijf FitNu! heeft 2 vestigingen geopend en wilt verder groeien. Het bedrijf heeft geen ICT-afdeling. De organisatie wil extra service bieden aan de klanten. Het bedrijf heeft modernste fitness- en cardioapparatuur en de meeste apparatuur worden gekoppeld aan een centrale server, zodat de sporters hun resultaten opslaan en hun vorderingen bekijken. Er liggen in alle kamers en hallen kabelgoten voor netwerk en elektriciteit en de kleine ruimten worden gereserveerd van netwerkapparatuur.
3	Knelpunten
•	Niet voldoende aansluitingen om uitbreidingen in de nabije toekomst te kunnen opvangen.
•	Niet voldoende redundante opslag van data 
•	Er is geen wifidekking in de gehele vestiging.
•	Er zijn minder printers dan dat er in de leaseperiode beschikbaar waren.
•	Geen gemakkelijke en betrouwbare identificatie van klanten, waarin de privacy niet gewaarborgd is.
•	Het netwerk is niet beveiligd.
•	De nieuwe ICT-infrastructuur moet robuust zijn en weinig onderhoud vragen, omdat er geen echte ICT-afdeling aanwezig.
4	Eisen/wensen
Geef hier een overzicht van de eisen en wensen. Gebruik hiervoor de MoSCoW-onderverdeling.

4.1 Must haves 
•	De servers en clients werken met de laatste versie van de operating systems.
•	Er moeten voldoende aansluitingen zijn om uitbreidingen in de nabije toekomst te kunnen opvangen.
•	Het moet voldoende redundante opslag van data bieden. 
•	Data van bestaande systemen moeten naadloos overgezet kunnen worden naar de nieuwe omgeving.
•	Beheer vindt alleen plaats op de hoofdvestiging.


4.2 Should haves
•	Gemakkelijke en betrouwbare identificatie van klanten kunnen plaatsvinden, zodat de privacy gewaarborgd is.
•	Er moet wifidekking zijn in de gehele vestiging.
•	De nieuwe ICT-infrastructuur moet robuust zijn en weinig onderhoud vragen

4.3 Could haves

•	Er zijn meer printers dan er in de leaseperiode beschikbaar waren.

4.4	Won’t haves
•	Koppeling van hightech cardioapparatuur aan de servers.
•	Koppeling van fitnessapparatuur aan het netwerk voor het verzamelen van gebruikersdata.
5	Uit te voeren werkzaamheden
Indien er gevraagd wordt om bepaalde werkzaamheden uit te voeren, worden deze hier vermeld.
1.	Informatiebehoefte FitNu!
Informatie waarin de behoeftes van de klant is vastgesteld
2.	Functioneel ontwerp
De gewenste functionaliteiten uit de behoefteanalyse
3.	Technisch ontwerp
De gewenste functionaliteiten uitwerken
4.	Testomgeving
Het realiseren van de functionaliteiten
6	Planning
Volgn.	Opdrachten	Uitvoerder 	Startdatum 	Einddatum 	Duur 	Kosten  per uur	
1	Informatiebehoefte FitNu!	Ahmed	25-10-2021	28-10--2021	2 uur	10	
2	Functioneel ontwerp	Ahmed	28-10-2021	1-11-2021	2 uur	10	
3	Technisch ontwerp	Ahmed	2-11-2021	4-11-2021	2 uur	10	
4	Testomgeving	Ahmed	5-11-2021	6-11-2021	6 uur	10	

Geachte heer P. van Leent,
Hierbij heb ik de Functioneel ontwerp vastgesteld in dit document. Ook heb ik u feedback verwerkt.
Mijn vraag is of ik een akkoord kan krijgen om het project te vervolgen.

Met vriendelijke groet,

Ahmed Azouag

















Bijlage 4 Sjabloon Functioneel ontwerp

Project	:	Sportschool FitNu!
Opdrachtgever	:	P. van Leent
Auteur	:	
Datum	:	28-10-2021
Versiebeheer	:	1.0
Datum	Versie	Auteur	Aanpassing
	2.0		U feedback is verwerkt in de Functioneel ontwerp.
1 Inleiding
Het bedrijf FitNu! wilt de gewenste functionaliteiten van de behoefteanalyse in een functioneel ontwerp zetten. In dit document geef je aan hoe het nieuwe systeem gaat werken en welke toepassingen in de nieuwe situatie beschikbaar moet zijn.
2 Achtergrondinformatie
Het bedrijf FitNu! heeft 2 vestigingen geopend en wilt verder groeien. Het bedrijf heeft geen ICT-afdeling. De organisatie wil extra service bieden aan de klanten. Het bedrijf heeft modernste fitness- en cardioapparatuur en de meeste apparatuur worden gekoppeld aan een centrale server, zodat de sporters hun resultaten opslaan en hun vorderingen bekijken. Er liggen in alle kamers en hallen kabelgoten voor netwerk en elektriciteit en de kleine ruimten worden gereserveerd van netwerkapparatuur.
3 Opdrachtnemer
De opdracht wordt uitgevoerd door Ahmed Azouag
4 Opdrachtgever
P. van Leen heeft de opdracht gegeven. 
5 Probleemstelling
•	Niet voldoende aansluitingen om uitbreidingen in de nabije toekomst te kunnen opvangen.
•	Niet voldoende redundante opslag van data 
•	Er is geen wifidekking in de gehele vestiging.
•	Er zijn minder printers dan dat er in de leaseperiode beschikbaar waren.
•	Geen gemakkelijke en betrouwbare identificatie van klanten, waarin de privacy niet gewaarborgd is.
•	Het netwerk is niet beveiligd.
•	De nieuwe ICT-infrastructuur moet robuust zijn en weinig onderhoud vragen, omdat er geen echte ICT-afdeling aanwezig.
6 Functieoverzicht

•	Deze moet werken met de laatste versie van de operating systems, zowel op de servers als op de clients.
In dit geval wordt er gebruikt gemaakt met de versie Windows 10.

•	Er moeten voldoende aansluitingen zijn om uitbreidingen in de nabije toekomst te kunnen opvangen.
Je hebt voldoende aansluitingen, zodat je in de toekomst als het uitbreidt er genoeg aansluitingen zijn.
•	Het moet voldoende redundante opslag van data bieden. Gegevensverlies kost klanten en is ondenkbaar.
Met redundante opslag voorkom je gegevensverlies.
•	Er moet wifidekking zijn in de gehele vestiging.
De wifi in het bedrijf moet een hoog bereiken hebben, waardoor ze met geen problemen op internet kunnen.
•	Er zijn meer printers dan er in de leaseperiode beschikbaar waren.
Er komen meer printers aan in het bedrijf.
•	Er moet gemakkelijke en betrouwbare identificatie van klanten kunnen plaatsvinden, zodat de privacy gewaarborgd is.
De informatie van de gegevens van de klanten moeten privé zijn, omdat ze het recht hebben om privacy te hebben
•	Data van bestaande systemen moeten naadloos overgezet kunnen worden naar de nieuwe omgeving.
De gegevens van de systemen moeten zonder fouten overgezet worden naar een nieuw omgeving. Als het fout gaat heb je een 2e server die de data overzet naar een nieuwe omgeving.
 
Geachte heer/mevrouw van Leent,

Hierbij heb ik het technisch ontwerp vastgesteld in dit document. Ook heb ik u feedback verwerkt.
Mijn vraag is of ik een akkoord kan krijgen om het project te vervolgen.

Met vriendelijke groet,

Ahmed Azouag



















Bijlage 6 Sjabloon Technisch ontwerp

Project :	Sportschool Fitnu!
Opdrachtgever : P. van Leent	
Auteur : Ahmed Azouag
Datum : 5-11-2021
Versiebeheer : 1.0

Datum	Versie	Auteur	Aanpassing
25-11-2021	2.0	Ahmed Azouag	Hierbij heb ik uw feedback verwerkt.
			
			
 
Inhoud
Bijlage 6 Sjabloon Technisch ontwerp	1
1. Inleiding	3
2. Netwerk	4
2.1 Topologie netwerk	4
Locatie Utrecht	5
IP-plan Utrecht	5
Locatie Amsterdam	6
IP-plan Amsterdam	7
3. Services	8
3.1 Domain- en naamgevingsstructuur	8
3.2 Systeemnamen	8
3.3 Gebruikersnamen	8
3.4 Sites	8
3.5 Notes	9
Vestiging Amsterdam	9
Vestiging Utrecht	9
4. OU-structuur	10
5. GPO-instellingen	11
5.1 Aan te brengen policies	11
6. Fileserver	12
7. Toegangsbeveiliging	13
7.1 Internet- en firewallbeveiliging	13
7.2 Back-up	13
8. Software	13

 
1. Inleiding
 Het bedrijf FitNu! heeft 2 vestigingen geopend en wilt verder groeien. Het bedrijf heeft geen ICT-afdeling. De organisatie wil extra service bieden aan de klanten. In dit document ga ik de gewenste functionaliteiten uitwerken in een technisch ontwerp.
 
2. Netwerk
2.1 Topologie netwerk


 
Figuur 1- Visuele weergave van Bijlage 9 Sjabloon Packet Tracer.
 
Locatie Utrecht

SW01-U

Interface	Type	VLAN	Verbonden
fa0/1	access	40	wifi medewerkers
fa0/2	access	10	wifi bezoekers
fa0/3 – fa0/22	access	40	CDXX-U
fa0/23	trunk	1-1005	RT01-U
fa0/24	trunk	20, 30, 40	SW02-U

SW02-U
 
Interface	Type	VLAN	Verbonden
fa0/1 – fa019	access	20	WSXX-U
fa0/20 – fa022	access	30	PRTXX-U
fa0/23	access	20	Server DC02-U
fa0/24	trunk	20-30,40	SW01-U

RT01-U
 
Interface	IP	Encapsulate	VLAN	Clock	Verbonden
fa0/1	-	-	-	-	SW02-U
fa0/0.10	172.16.10.10 /23	Dot1Q	10	-	SW02-U
fa0/0.20	192.168.20.1 /24	Dot1Q	20	-	SW02-U
fa0/0.30	192.168.30.1	Dot1Q	30	-	SW02-U
fa0/0.40	192.168.40.1 /24	Dot1Q	40	-	SW02-U
SE0/3/0	84.107.48.10 /24			200000	Internet

Routing: RIP

Wireless Utrecht

Interface	Security	Pre-shared key	VLAN	Channel
wifi bezoekers	WPA2	abcd1234	10	6
wifi medewerkers	WPA2	abcd1234	10	11

IP-plan Utrecht
VLAN	Device	Type	IP	Aantal	Mask	Gateway
10	Multi	DHCP	172.16.10.10	350	/23	172.16.11.254
20	WSXX-U	DHCP	192.168.20.20	50	/24	192.168.20.0
20	DC02-U	Static	192.168.20.11	-	/24	192.168.20.1
30	PRNXX-U	DHCP	192.168.30.10	50	/24	192.168.30.1
40	CDXX-U	DHCP	192.168.40.10	200	/24	192.168.40.1

Locatie Amsterdam

RT01-A
 
Interface	IP	Encapsulate	VLAN	Clock	Verbonden
fa0/0	-	-	-	-	MLS01-A
fa0/0.50	172.16.10.10 /23	Dot1Q	50	-	MLS01-A
fa0/0.60	192.168.60.1	Dot1Q	60	-	MLS01-A
fa0/0.70	192.168.70.1 /24	Dot1Q	70	-	MLS01-A
fa0/0.80	192.168.80.1	Dot1Q	80	-	MLS01-A
fa0/0.90	192.168.90.1 /24	Dot1Q	90	-	MLS01-A
SE0/2/0	194.107.19.32 /24			200000	Internet

Routing: RIP


MLS01-A

Interface	Type	VLAN	Verbonden
fa0/21	trunk	50,60	SW05-A
fa0/22	trunk	70,80,90	SW04-A
fa0/23	trunk	70,80,90	SW03-A
fa0/24	trunk	50,60,70,80,90	RT01-A

SW01-A

Interface	Type	VLAN	Verbonden
fa0/1 – fa0/18	access	90	CDXX-A
fa0/19 – fa0/21	access	80	PRNXX-A
fa0/22	trunk	70,80,90	SW04-A
fa0/23	trunk	70,80,90	SW03-A
fa0/24	trunk	70,80,90	SW02-A

SW02-A

Interface	Type	VLAN	Verbonden
fa0/1 – fa0/21	access	70	WSXX-A
fa0/22	trunk	70,80,90	SW04-A
fa0/23	trunk	70,80,90	SW01-A
fa0/24	trunk	70,80,90	SW03-A

 
SW03-A

Interface	Type	VLAN	Verbonden
fa0/1	access	70	Server DC01-A
fa0/21	Trunk	2-49,51-59,61-1001	SW01-A
fa0/22	trunk	70,80,90	SW04-A
fa0/23	trunk	70,80,90	SW02-A
fa0/24	trunk	70,80,90	MLS01-A

SW04-A

Interface	Type	VLAN	Verbonden
fa0/1 – fa0/20	access	70	WSXX-A
fa0/21	trunk	70,80,90	SW03-A
fa0/22	trunk	70,80,90	SW02-A
fa0/23	trunk	70,80,90	SW01-A
fa0/24	trunk	70,80,90	MLS01-A

SW05-A

Interface	Type	VLAN	Verbonden
fa0/1 	access	50	wifi bezoekers
fa0/2	access	60	wifi medewerkers
fa0/24	trunk	2-69,71-79,81-89,91-1001	MLS01-A

Wireless Amsterdam

Interface	Security	Pre-shared key	VLAN	Channel
wifi bezoekers	WPA2	abcd1234	50	6
wifi medewerkers	WPA2	abcd1234	60	11

IP-plan Amsterdam
VLAN	Device	Type	IP	Aantal	Mask	Gateway
50	Multi	DHCP	172.16.10.10	350	/23	172.16.11.254
60	WIFI	DHCP	192.168.60.10	200	/24	192.168.60.1
70	DC01-A	Static	192.168.70.5	-	/24	192.168.70.1
70	WSXX-A	DHCP	192.168.70.10	200	/24	192.168.70.1
80	PRNXX-A	DHCP	192.168.80.10	50	/24	192.168.80.1
90	CDXX-A	DHCP	192.168.90.10	200	/24	192.168.90.1

Met de commando show run, show vlan kun je de overzicht zien van alle VLANS’s. Daarvoor moet je eerst enablen. 
3. Services

Installatie Apache
1.	Sudo apt update (je gaat het systeem update)
2.	Sudo apt upgrade (je gaat het systeem upgrade)
3.	Sudo apt install apache2 ( je installeert apache op de Ubuntu server)
4.	Sudo systemctl status apache2 (dit laat zien of Apache is geïnstalleerd en aan het runnen is in het systeem of niet)
5.	http://IPADDRESS/ (je zet de ip-adres van de Ubuntu server op het werkstation)

Poorten toevoegen aan de firewall
1.	Sudo ufw allow 443 (je voegt de poort 443 aan de firewall)
2.	Sudo ufw allow 80 (je voegt de poort 80 aan de firewall)
3.	Sudo ufw allow ssh (je voegt ssh aan de firewall)
4.	Sudo ufw enable (firewall zet je aan en is enable)
installatie PHP
1.	Sudo apt install php libapache2-mod-php (je installeert PHP op de Ubuntu server)
2.	Php –version (hier zie je de versie van PHP)
3.	echo '<?php phpinfo(); ?>' | sudo tee -a /var/www/html/phpinfo.php > /dev/null
4.	echo '<?php phpinfo(); ?>' | sudo tee -a /var/www/html/phpinfo.php > /dev/null (hier maak je een testpage aan)
5.	
6.	http://IPADDRESS/phpinfo.php (je zet de ip-adres van de Ubuntu server op het werkstation)
installatie Mariadb
1.	Sudo apt install mariadb-server mariadb-client (je installeert PHP op de Ubuntu server)
2.	Sudo systemctl status mariadb (dit laat zien of Mariadb is geïnstalleerd en aan het runnen is in het systeem of niet)
3.	Sudo mysql_secure_installation ( je antwoord de beveiligingsvragen met ja of nee)
Installatie Nextcloud 
1.	sudo apt-get install apache2 mysql-server -y (Hiermee wordt apache2 en mysql-server geïnstalleerd)
2.	sudo apt-get install php zip libapache2-mod-php php-gd php-json php-mysql php-curl php-mbstring php-intl php-imagick php-xml php-zip php-mysql php-bcmath php-gmp -y (Hiermee installer je de PHP configuraties)
3.	sudo mysql_secure_installation (Hiermee geef je antwoord op de beveiligingsvragen)
4.	sudo mysql -u root -p (je logt in de MYSQL console)
5.	CREATE DATABASE nextcloud; (je maakt een database aan)
6.	CREATE USER 'nextcloud'@'localhost' IDENTIFIED BY 'PASSWORD'; (je maakt een nieuwe gebruiker en wachtwoord aan)
7.	GRANT ALL PRIVILEGES ON nextcloud.* TO 'nextcloud'@'localhost'; (je geeft de gebruiker alle rechten)
8.	FLUSH PRIVILEGES; (je laat het systeem verwerken)
9.	Exit ( je stapt uit de MYSQL console)
10.	wget https://download.nextcloud.com/server/releases/nextcloud-20.0.0.zip (je download de zip bestand)
11.	unzip nextcloud-20.0.0.zip (Hiermee ga je de zip bestand uitpakken)
12.	sudo mv nextcloud /var/www/html/ (Hiermee verplaats je de nieuwe nextcloud bestand naar de Apache document root)
13.	sudo chown -R www-data:www-data /var/www/html/nextcloud (Hiermee geef je de nextcloud folder de nodige rechten van je eigendom)
14.	sudo nano /etc/apache2/sites-available/nextcloud.conf (Hiermee maak je een .conf bestand aan)
15.	je schrijft de tekst in de editor. De tekst staat hieronder.
 Alias /nextcloud "/var/www/html/nextcloud/"
<Directory /var/www/html/nextcloud/>
    Options +FollowSymlinks
    AllowOverride All
      <IfModule mod_dav.c>
        Dav off
      </IfModule>     

     SetEnv HOME /var/www/html/nextcloud
    SetEnv HTTP_HOME /var/www/html/nextcloud
</Directory>

16.	sudo a2ensite nextcloud ( je schakelt de website in)
17.	sudo a2enmod rewrite headers env dir mime (Hiermee schakel je de Apache modules in)
18.	sudo sed -i '/^memory_limit =/s/=.*/= 512M/' /etc/php/7.4/apache2/php.ini (Hiermee verander je de PHP gehuegen)
19.	sudo systemctl restart apache2 (het opnieuw opstarten van Apache)
20.	http://IPADDRESS/nextcloud (je zet de ip-adres van de Ubuntu server op het werkstation)
21.	Database user: nextcloud (je typt nextcloud bij de gebruiker)
22.	Database password (het wachtwoord die je hebt gemaakt bij nextcloud database gebruiker)
23.	Database name: nextcloud (je typt nextcloud en daaronder localhost)
24.	Finish Setup (hiermee ben je ingelogd op nextcloud)

3.1 Domain- en naamgevingsstructuur

Domeinnaam : FITNU.LOCAL

3.2 Systeemnamen
•	Domain Controllers	DCxx
•	Werkstations	WSxx
•	Laptops	LAPxx
•	Printers	PRNxx
•	Routers	RTxx
•	Switches	SWxx
•	Cardioapparatuur	CDXX

Voor de locatie Utrecht wordt –U toegevoegd aan de namen bijvoorbeeld WS01-U.
Voor de locatie Amsterdam wordt –A toegevoegd aan de namen bijvoorbeeld WS01-A.

3.3 Gebruikersnamen
Er wordt gekozen voor het volgende format voor de gebruikersnamen.
[Voornaam][eerste vier letters achternaam] met eventueel een volgnummer[xx] als er sprake is van een dubbele naam.

3.4 Sites
Er zullen twee sites worden ingericht.
Site Utrecht
Servers	DC02-U
Subnets	192.168.10.0/24
	192.168.20.0/24
                                  192.168.30.0/24
                                  192.168.40.0/24

Site Amsterdam
Servers	DC01-A
Subnets	192.168.60.0/24
	192.168.70.0/24
	192.168.80.0/24
	192.168.90.0/24      
	
	ipplan in Technische ontwerp
             ip adrres subnet gateway                             0-255 1e en laatste mag niet gebruikt worden
server linux 192.168.10.2 255.255.255.0 192.168.10.1 1-254
microsoft server
printer
wifi                                                         1 gereserveerd voor gateway
pin automaat                                                   1 t/m 10 servers
werkstation                                                11 t/m 20 werkstations
                                                               21-30 printers
                                                          31-40 pin automaat
/32	255.255.255.255	0.0.0.0	1	1
/31	255.255.255.254	0.0.0.1	2	2*
/30	255.255.255.252	0.0.0.3	4	2
/29	255.255.255.248	0.0.0.7	8	6
/28	255.255.255.240	0.0.0.15	16	14
/27	255.255.255.224	0.0.0.31	32	30
/26	255.255.255.192	0.0.0.63	64	62
/25	255.255.255.128	0.0.0.127	128	126
/24	255.255.255.0	0.0.0.255	256	254
/23	255.255.254.0	0.0.1.255	512	510
/22	255.255.252.0	0.0.3.255	1,024	1,022
/21	255.255.248.0	0.0.7.255	2,048	2,046
/20	255.255.240.0	0.0.15.255	4,096	4,094
/19	255.255.224.0	0.0.31.255	8,192	8,190
/18	255.255.192.0	0.0.63.255	16,384	16,382
/17	255.255.128.0	0.0.127.255	32,768	32,766
/16	255.255.0.0	0.0.255.255	65,536	65,534
/15	255.254.0.0	0.1.255.255	131,072	131,070
/14	255.252.0.0	0.3.255.255	262,144	262,142
/13	255.248.0.0	0.7.255.255	524,288	524,286
/12	255.240.0.0	0.15.255.255	1,048,576	1,048,574
/11	255.224.0.0	0.31.255.255	2,097,152	2,097,150
/10	255.192.0.0	0.63.255.255	4,194,304	4,194,302
/9	255.128.0.0	0.127.255.255	8,388,608	8,388,606
/8	255.0.0.0	0.255.255.255	16,777,216	16,777,214
/7	254.0.0.0	1.255.255.255	33,554,432	33,554,430
/6	252.0.0.0	3.255.255.255	67,108,864	67,108,862
/5	248.0.0.0	7.255.255.255	134,217,728	134,217,726
/4	240.0.0.0	15.255.255.255	268,435,456	268,435,454
/3	224.0.0.0	31.255.255.255	536,870,912	536,870,910
/2	192.0.0.0	63.255.255.255	1,073,741,824	1,073,741,822
/1	128.0.0.0	127.255.255.255	2,147,483,648	2,147,483,646
/0	0.0.0.0	255.255.255.255	4,294,967,296	4,294,967,294

6/7 bij probleemstelling
 Technisch Ontwerp
 Virtual Host nextcloud.Xprotex.eu 
              Xprotex.eu                          zelfde IP
	      
IP PLAn 192.168.2.2
Subnet Mask 255.255.255.0
gateway 192.168.2.1
range start ip 192.168.2.1
end 192.168.2.14
exclusion 192.168.2.13 en 192.168.2.14
Mac adress intel network opdracht1 bestand altijd draad kiezen

github.com/technoforyou

							  

Sitelink
Naam	Utrecht- Amsterdam
Members	Site Utrecht, Site Amsterdam
Protocol 	IP
Replication	300 min
Cost	200
3.5 Notes
Vestiging Amsterdam

Server
DC01-A
DC01-A.FITNU.LOCAL heeft de serverrollen DHCP, DNS, AD DS met de volgende instellingen.
AD DS

#
# Windows PowerShell script for  AD DS Deployment
#

Import-Module ADDSDeployment
Install-ADDSForest
-CreateDnsDelegation:$false 
-DatabasePath “C:\Windows\NTDS”
-DomainMode “WinThreshold”
-DomainName “Xprotex.com”
-DomainNetbiosName “XPROTEX”
-ForestMode “WinThreshold”
-InstallDns:$true
-LogPath “C:\Windows\NTDS”
-NoRebootOnCompletion:$false
-SysvolPath “C:\Windows\SYSVOL”
-Force:$true


•	Domain	FITNU.LOCAL
•	Net BIOS name	FITNU
•	Forest functional level	Windows Server 2012
•	Domain functional level	Windows Server 2012
•	Directory Services Restore Mode Administrator
•	Password	P@ssw0rd
•	AD bestandslocaties
o	DatabasePath="C:\Windows\NTDS"
o	LogPath="C:\Windows\NTDS"
o	SYSVOLPath="C:\Windows\SYSVOL"

DNS
•	Secure only

Forward lookup zone1
A record aanmaken op server DC01-A
Met de A record gebruik ik het woord lamp
Met de A record zorg je ervoor dat je niet het IP-adres hoeft te gebruiken, maar de naam
In plaats van http://IPADRESS/ doe je lamp op de browser op je werkstation

DHCP	
•	Scopes volgens IP-plan Amsterdam 
Scope1
•	Leasetime	8 days

Je geeft de de range aan van de IP-adres (start: 192.168.70.10 eind:192.168.70.210 length:24 Subnet Mask; 255.255.255.0



Vestiging Utrecht

Server
DC02-U
DC02-U.FITNU.LOCAL heeft de serverrollen DHCP, AD DS, DNS met de volgende instellingen.
AD DS
•	Domeincontroller in het domein FITNU.LOCAL

DNS
Failover van DNS DC01-A

DHCP	
•	Scopes volgens IP-plan Utrecht
•	Leasetime	8 days
 
4. OU-structuur

 
[Maak bovenstaande OU-structuur compleet. Bekijk sjabloon Bijlage 10 Sjabloon OU structuur als voorbeeld. Gebruik het programma Visio om de OU-structuur te visualiseren. ]
•	Medewerkers van de OU Receptie hebben gedelegeerd beheer op de OU Klanten.

 
 
5. GPO-instellingen

5.1 Aan te brengen policies

Naam 	Configuratiescherm
Voor wie 	Alle domein users
Policy overgeërfd van	Default domain policy
Wat	•	Geen toegang tot configuratiescherm
•	Verberg het venster Add en Remove Programs.
•	Verberg het venster Windows Componenten.
•	Verberg het Display Control Panel.
•	Verplicht een screensaver.
•	Screensaver actief na 15min
•	Achtergrond mag niet aangepast worden.
•	Voorkom dat bureaubladiconen veranderd worden.
•	Voorkom dat het thema veranderd wordt.

Naam 	Startmenu
Voor wie 	Alle domein users
Policy overgeërfd van 	Default domain policy
Wat	•	Verwijder de netwerkconnections 
•	Verwijder het menuitem Run. 
•	Voorkom dat gebruikers toolbars verwijderen en toevoegen.

Naam 	Menu
Voor wie 	Alle domein users
Policy overgeërfd van	Default domain policy
Wat	•	Verwijder de netwerkconnections.
•	Verwijder het menuitem Run. 
•	Voorkom dat gebruikers toolbars verwijderen en toevoegen.

Naam 	Desktop
Voor wie 	Alle domein users
Policy overgeërfd van	Default domain policy
Wat	•	Zorg ervoor dat de bedrijfsachtergrond (Background.jpg in de bijlagemap) op alle systemen als achtergrond ingesteld is.

	
Naam 	Systeem
Voor wie 	Alle domein users
Policy overgeërfd van	Default domain policy
Wat	•	Gebruikers kunnen geen software installeren.
•	Gebruikers kunnen geen installatie uitvoeren.
•	Gebruikers krijgen geen toegang tot de Command.

6. Fileserver
De server DC01-A wordt ingericht voor de opslag van gezamenlijke documenten, persoonlijke documenten van de werkstations (Folder Redirection policy).
Op DC01-A wordt de volgende mappenstructuur aangebracht ten behoeve van de gedeelde documenten.
m
Rechtenstructuur folders
Map	Doel	NTFS Read	NTFS Write	NTFS Full-control
Ondersteuning	Groepsmap 	SC_ondersteuning	SC_ondersteuning	SC_ondersteuning
Manager	Groepsmap	SC_manager	SC_manager	SC_manager
Financiën	Groepsmap	SC_financiën	SC_financiën	SC_financiën
Administratie	Groepsmap	SC_administratie
SC_financiën	SC_administratie
SC_financiën	SC_administratie
SC_financiën
Klanten	Groepsmap	SC_receptie
SC_ondersteuning	SC_receptie
SC_ondersteuning	SC_receptie
SC_ondersteuning

Instructeurs	Groepsmap	SC_ondersteuning
SC_instructeurs	SC_instructeurs	SC_instructeurs
Personal trainers	Groepsmap	SC_ondersteuning
SC_trainers	SC_trainers	SC_trainers
Homefolders	Homemap	Domein_users	Domein_users	Domein_users
Profiles	Profielmap	Domein_users	Domein_users	Domein_users
Voor de persoonlijke bestanden zal een Folder Redirection-policy worden aangemaakt. 
Voor elke ‘username’ wordt een map genaamd \\DC01-A\Homefolders\%username% ingericht. Ook zal deze server worden gebruikt voor de centrale opslag van de persoonlijke gebruikersprofielen in de map \\DC01-A\Profiles\%username%.

7. Toegangsbeveiliging
Het betreft hier met name de fysieke beveiliging van de servers. Deze dienen zich in een fysiek goed af te sluiten ruimte te bevinden. De toegang tot de ruimte is voorbehouden aan beheerders. De ruimte dient te beschikken over een elektronische toegangscontrole. De huidige ruimtes voldoen hieraan.

7.1 Internet- en firewallbeveiliging
Alle medewerkers hebben toegang tot internet. De volgende poorten dienen te zijn geopend.
•	Interne poorten	80 (http)
	443 (https)
	53 (dns)
Server en werkstations worden uitgerust met AVG virusscanner.

7.2 Back-up
Elke dag wordt een incrementele back-up gemaakt van de bestanden en de system state. Er wordt geback-upt naar tape.

8. Software

De werkstations worden standaard uitgerust met het volgende.
•	Microsoft Office Professional
•	AVG virusscanner
•	Adobe Acrobat Reader
•	Firefox

De software voor klanten, relatiebeheer en financiën is in de cloud gehost en is bereikbaar via de webbrowser.

Map	Groep	Leden	Rechten
AM_Personaltrainers	AM_Personaltrainers	Adam
Atema
	Read & write
AM_Personal instructeurs	AM_Personal instructeurs	Janssen
Thomas	Read & write
AM_Personal instructeurs	AM_Personal instructeurs	Hoff	Read
AM_Personal trainers	AM_Personal trainers	Bannenk
Baumler	Read
UT_Personaltrainers	UT_Personaltrainers	Doets
De Graaf	Read & write
UT_Personal instructeurs	UT_Personal instructeurs	Nielsen	Read & write
UT_Personal instructeurs	UT_Personal instructeurs	Cremers	Read
UT_Personal trainers	UT_Personal trainers	Hager
De Raad	Read


 

# linuxtech

De volgende commando’s worden gebruikt bij het testen van de Ubuntu server.
•	ip address show
•	lsb_release -d
•	whoami
•	date
•	IP-adres
hieronder zie je de ip configuratie, geïnstalleerde versie , de gebruiker en de datum van vandaag.
 




Hieronder zie je de IP-adres van de Ubuntu server. De IP-adres van de Ubuntu server is 10.0.2.15
 













De volgende commando’s worden gebruikt bij het werkstation.
•	Ipconfig /all
•	Whoami
•	Date
•	IP-adres
Hieronder zie je de IP configuraties en het IP-adres.
 


Hieronder zie je de gebruiker en datum van het werkstation.
 


Hieronder zie je dat het werkstation aan het pingen is met de Ubuntu server. De verbinding is gelukt en ze kunnen communiceren met elkaar.
 


Je gaat je Ubuntu server update en upgrade. Hieronder zie je dat gebeuren.
Update 
 
Upgrade 
 

Hieronder zie je dat poorten 22, 80 en 443 open worden gemaakt en dat firewall wordt geactiveerd.
De volgend commando’s worden gebruikt:
•	Sudo ufw allow ssh
•	Sudo ufw allow 80
•	Sudo ufw allow 443
•	Sudo ufw enable

 
Het configureren van Firewall en SSH.

SSH wordt met de volgende commando’s geïnstalleerd.
•	Sudo apt-get install ubuntu-desktop
•	sudo ufw enable
•	sudo ufw allow 22/tcp
•	Sudo systemctl status ssh

Hieronder zie je de installatie van desktop.
 
Hieronder zie je dat firewall geactiveerd is en er zijn regels toegevoegd.
 

Hieronder zie je dat SSH aan het runnen is in het systeem
 
Het installeren van Apache

Apache wordt met de volgende commando geinstalleerd: sudo apt install apache2
Hieronder zie je dat Apache aan het installeren is.
 
Hieronder zie je dat Apache2 aan het runnen is in het systeem en actief is.
 

Hieronder zie je dat het IP-adres van de Ubuntu server op de webbrowser wordt gebruikt bij de werkstation. Je typt http://10.0.2.15/ en vervolgens verschijnt er een website.
 


PHP installeren op Ubuntu server



Hieronder zie je dat het systeem aan het update is
 

Hieronder zie je dat PHP aan het installeren is met de volgende commando sudo apt install php libapache2-mod-php
ss 

Hieronder zie je de versie van PHP
 
Vervolgens is de volgende commando gebruikt: sudo systemctl restart apache2
Hieronder staat de commando die is gebruikt om een test-page te maken
echo '<?php phpinfo(); ?>' | sudo tee -a /var/www/html/phpinfo.php > /dev/null
hieronder zie je de webpagina van PHP
echo '<?php phpinfo(); ?>' | sudo tee -a /var/www/html/phpinfo.php > /dev/null
- Het installe 

Je installeert MariaDB met de volgende commando: sudo apt install mariadb-server mariadb-client

Hieronder zie je dat MariaDB aan het installeren is.
 

Met de volgende commando : sudo systemctl status mariadb zie je dat MariaDB actief is in het systeem.
 




Hieronder zie je dat er beveiligingsvragen worden gesteld. De commando is hiervoor gebruikt: sudo mysql_secure_installation


sudo apt-get install apache2 mysql-server -y
When that completes, install the second group of dependencies with the command:

sudo apt-get install php zip libapache2-mod-php php-gd php-json php-mysql php-curl php-mbstring php-intl php-imagick php-xml php-zip php-mysql php-bcmath php-gmp -y
How to secure the MySQL database
With the dependencies out of the way, the next thing to be taken care of is securing the database server. Back at the terminal window, issue the command:

sudo mysql_secure_installation
Give MySQL a new admin password and answer the remaining questions with y (for yes).

How to create the database

Need-to-know tips and support sites for Linux users

The open source operating system has plenty of available support—you just need to know where to look.

Research provided by TechRepublic Premium
Now we'll create the Nextcloud database and a database user. Log in to the MySQL console with the commaFLWGETnd:

sudo mysql -u root -p
Create the new database with the command:

CREATE DATABASE nextcloud;
Create a new user with the command:

CREATE USER 'nextcloud'@'localhost' IDENTIFIED BY 'PASSWORD';
Where PASSWORD is a unique and strong password.

Give the new user the necessary permissions with the command:

GRANT ALL PRIVILEGES ON nextcloud.* TO 'nextcloud'@'localhost';
Flush the privileges and exit the console with the commands:

FLUSH PRIVILEGES;exit
exit
How to download and unpack the Nextcloud file
In order to install Nextcloud, we have to first download the necessary zipped file. To do that, issue the command:

wget https://download.nextcloud.com/server/releases/nextcloud-20.0.0.zip
Unpack that file with the command:

unzip nextcloud-20.0.0.zip
Move the newly-created nextcloud file to the Apache document root with the command:

sudo mv nextcloud /var/www/html/
Next, we'll give the Nextcloud folder the necessary ownership with the command:

sudo chown -R www-data:www-data /var/www/html/nextcloud
How to configure the web server
With the Nextcloud directory in place, we now have to make Apache aware of it. For that, we have to create a .conf file with the command:

sudo nano /etc/apache2/sites-available/nextcloud.conf
In that file, paste the following:

Alias /nextcloud "/var/www/html/nextcloud/"
<Directory /var/www/html/nextcloud/>
    Options +FollowSymlinks
    AllowOverride All
      <IfModule mod_dav.c>
        Dav off
      </IfModule>     

     SetEnv HOME /var/www/html/nextcloud
    SetEnv HTTP_HOME /var/www/html/nextcloud
</Directory>
Save and close the file. 

Enable the new site with the command:

sudo a2ensite nextcloud
We'll now enable the necessary Apache modules by issuing the command:

sudo a2enmod rewrite headers env dir mime
Finally, we'll change the PHP memory limit with the command:su

sudo sed -i '/^memory_limit =/s/=.*/= 512M/' /etc/php/7.4/apache2/php.ini
Restart Apache with the command:

sudo systemctl restart apache2
How to finish the installation
Your venture into the command line is complete. Now you can open a browser and point it to http://SERVER_IP/nextcloud (where SERVER_IP is the IP address of the hosting server). You'll first be greeted by the web-based installer (Figure A).

Figure 




sudo apt update
sudo apt upgrade 

commando naar pad voor VirtualHost

cd /var/www/html/
cd /etc/Apache2/sites-available
sudo systemctl restart apache2
sudo nano nextcloud.conf
<VirtualHost *80>
ServerName www.nextcloud.Assengraaf.nl

ServerAlias nextcloud.Assengraaf.nl

DocumentRoot /var/www/html/nextcloud



<virtualHost>
	
	echo '<?php phpinfo(); ?>' | sudo tee -a /var/www/html/phpinfo.php > /dev/null
 
Forward look up zone 
Zone maak je aan
Xprotex.com new host genaamd lamp en de ubuntu server 10.0.2.15
Je gaat naar de file (ubuntu server)
Cd var/www/html/nextcloud/config
Cd /var
Cd www
Cd html
Cd nextcloud
Cd config/
Sudo nano config.php
De ip-adres en de naam type
10.0.2.15 en lamp
Webbrowser http:/lamp/nextcloud
Dan zie je nextcloud
<DOCTYPE HTML>
<html>
<title></title>
<head></head>
<body>


</body>
</html>
	sudo cp index.html index2.html
	sudo rm index.html
	index2.html
	sudo touch index.html
	
	3 Functionaliteit
1.1.1	Te testen functionaliteit
Ik ga de functionaliteiten testen van Apache op de Ubuntu server en de werkstation.
1.1.2	Testscenario
Het ISO bestand downloaden, virtual Box installeren, in terminal testen. Het werkstation, Ubuntu- en dc01 server worden gebruikt.
1.1.3	Testinput
Sudo apt install apache2 (het installeren van Apache)
Sudo systemctl status apache2 (Hiermee kan je zien of Apache actief is in het systeem)
http://10.0.2.15 (het IP-adres van de Ubuntu server)
1.1.4	Verwachte werking/output
Je hebt Apache geïnstalleerd en is aan het runnen (actief) in het systeem. Je zet de IP-adres van de Ubuntu server op de browser van de werkstation, waardoor de website (Apache) te voorschijn komt.
1.1.5	Werkelijke werking/output
Hieronder zie je dat Apache aan het runnen is en actief is in het systeem.
 
Hieronder zie je de website van Apache te voorschijn.
 
1.1.6	Conclusie test
Uit bovenstaande zie je dan Apache goed is geïnstalleerd en naar behoren werkt.

	
	2 Testomgeving
2.1 Overzicht testomgeving
Beschrijf hier hoe de testomgeving opgebouwd moet worden.

Je hebt 2 servers en 1 werkstation, namelijk:
•	Ubuntu server
Hiermee ga ik Apache, PHP, Mariadb en nextcloud installeren en testen op de Ubuntu server. Ook moeten de poorten opengemaakt worden op de Ubuntu server.
•	Microsoft server
Hiermee ga ik DNS en DHCP installeren en testen op de Microsoft server. Ook laat je zien dat je GPO’s beheert in de tool Group Policy Management.
•	Werkstation
Hiermee laat je alle resultaten zien wat je op je Ubuntu server hebt uitgevoerd met de commando’s.
Je ziet de resultaten van Apache, PHP, nextcloud, GPO, DNS en DHCP.

Alle 3 zijn met elkaar verbonden in het zelfde netwerk.

	
	Eindconclusie testen
Beschrijf hier de conclusie die getrokken kan worden na het uitvoeren van de tests.
Ik heb Apache, PHP, Mariadb en nextcloud geinstalleerd en getest op de Ubuntu server. Ook heb ik de poorten opengemaakt op de Ubuntu server. Ik heb DNS en DHCP geïnstalleerd en getest op de Microsoft server. Ook heb ik de GPO’s beheert in de tool Group Policy Management. Op het werkstation heb ik alle resultaten laten zien wat je op je Ubuntu server hebt uitgevoerd met de commando’s.
Uit dit Testplan-Testrapport concludeer ik dat alle functionaliteiten goed zijn geïnstalleerd, getest en is naar behoren werkt
	
	
virtual Host aanmaken

sudo mkdir -p /var/www/example.com/public_html
sudo mkdir -p /var/www/test.com/public_html

sudo chown -R $USER:$USER /var/www/example.com/public_html
sudo chown -R $USER:$USER /var/www/test.com/public_html

sudo chmod -R 755 /var/www

nano /var/www/example.com/public_html/index.html

<html>
  <head>
    <title>Welcome to Example.com!</title>
  </head>
  <body>
    <h1>Success! The example.com virtual host is working!</h1>
  </body>
</html>

cp /var/www/example.com/public_html/index.html /var/www/test.com/public_html/index.html

nano /var/www/test.com/public_html/index.html

<html>
  <head>
    <title>Welcome to Test.com!</title>
  </head>
  <body> <h1>Success! The test.com virtual host is working!</h1>
  </body>
</html>

sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/example.com.conf

sudo nano /etc/apache2/sites-available/example.com.conf

<VirtualHost *:80>
    ServerAdmin admin@example.com
    ServerName example.com
    ServerAlias www.example.com
    DocumentRoot /var/www/example.com/public_html
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

sudo cp /etc/apache2/sites-available/example.com.conf /etc/apache2/sites-available/test.com.conf

sudo nano /etc/apache2/sites-available/test.com.conf

<VirtualHost *:80>
    ServerAdmin admin@test.com
    ServerName test.com
    ServerAlias www.test.com
    DocumentRoot /var/www/test.com/public_html
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

sudo a2ensite example.com.conf
sudo a2ensite test.com.conf

sudo a2dissite 000-default.conf

sudo systemctl restart apache2

sudo nano /etc/hosts

127.0.0.1   localhost
127.0.1.1   guest-desktop
your_server_IP example.com
your_server_IP test.com



commando naar pad voor VirtualHost
6.	cd /var/www/html/
7.	cd /etc/Apache2/sites-available 
8.	sudo systemctl restart apache2
9.	sudo nano nextcloud.conf
10.	<VirtualHost *80>
ServerName www.nextcloud.Assengraaf.nl
ServerAlias nextcloud.Assengraaf.nl
DocumentRoot /var/www/html/nextcloud

<virtualHost>







Test on client

http://example.com
http://test.com

Behoefte analyse = behoefte van de klant
	
	
	Technisch document

De volgende commando’s worden gebruikt bij het testen van de Ubuntu server.
•	ip address show
•	lsb_release -d
•	whoami
•	date
•	IP-adres
hieronder zie je de ip configuratie, geïnstalleerde versie , de gebruiker en de datum van vandaag.
 




Hieronder zie je de IP-adres van de Ubuntu server. De IP-adres van de Ubuntu server is 10.0.2.15
 













De volgende commando’s worden gebruikt bij het werkstation.
•	Ipconfig /all
•	Whoami
•	Date
•	IP-adres
Hieronder zie je de IP configuraties en het IP-adres.
 


Hieronder zie je de gebruiker en datum van het werkstation.
 


Hieronder zie je dat het werkstation aan het pingen is met de Ubuntu server. De verbinding is gelukt en ze kunnen communiceren met elkaar.
 


Je gaat je Ubuntu server update en upgrade. Hieronder zie je dat gebeuren.
Update 
 
Upgrade 
 

Hieronder zie je dat poorten 22, 80 en 443 open worden gemaakt en dat firewall wordt geactiveerd.
De volgend commando’s worden gebruikt:
•	Sudo ufw allow ssh
•	Sudo ufw allow 80
•	Sudo ufw allow 443
•	Sudo ufw enable

 
Het configureren van Firewall en SSH.

SSH wordt met de volgende commando’s geïnstalleerd.
•	Sudo apt-get install ubuntu-desktop
•	sudo ufw enable
•	sudo ufw allow 22/tcp
•	Sudo systemctl status ssh

Hieronder zie je de installatie van desktop.
 
Hieronder zie je dat firewall geactiveerd is en er zijn regels toegevoegd.
 

Hieronder zie je dat SSH aan het runnen is in het systeem
 
Het installeren van Apache

Apache wordt met de volgende commando geinstalleerd: sudo apt install apache2
Hieronder zie je dat Apache aan het installeren is.
 
Hieronder zie je dat Apache2 aan het runnen is in het systeem en actief is.
 

Hieronder zie je dat het IP-adres van de Ubuntu server op de webbrowser wordt gebruikt bij de werkstation. Je typt http://10.0.2.15/ en vervolgens verschijnt er een website.
 

























PHP installeren op Ubuntu server



Hieronder zie je dat het systeem aan het update is
 

Hieronder zie je dat PHP aan het installeren is met de volgende commando sudo apt install php libapache2-mod-php
ss 

Hieronder zie je de versie van PHP
 
Vervolgens is de volgende commando gebruikt: sudo systemctl restart apache2
Hieronder staat de commando die is gebruikt om een test-page te maken
echo '<?php phpinfo(); ?>' | sudo tee -a /var/www/html/phpinfo.php > /dev/null
hieronder zie je de webpagina van PHP
- 












Het installe 

Je installeert MariaDB met de volgende commando: sudo apt install mariadb-server mariadb-client

Hieronder zie je dat MariaDB aan het installeren is.
 

Met de volgende commando : sudo systemctl status mariadb zie je dat MariaDB actief is in het systeem.
 




Hieronder zie je dat er beveiligingsvragen worden gesteld. De commando is hiervoor gebruikt: sudo mysql_secure_installation
 




















Nextcloud installeren op Ubuntu server

sudo apt-get install apache2 mysql-server -y

 

sudo apt-get install php zip libapache2-mod-php php-gd php-json php-mysql php-curl php-mbstring php-intl php-imagick php-xml php-zip php-mysql php-bcmath php-gmp -y
 


sudo mysql_secure_installation
beveiligingsvragen antwoorden en wachtwoord gewijzigd
 
sudo mysql -u root -p 
 
un
De volgende 4 commando’s om een nextcloud database en user data base aan te maken.
	
	sudo mysql -u root -p
Create the new database with the command:

CREATE DATABASE nextcloud;
Create a new user with the command:

CREATE USER 'nextcloud'@'localhost' IDENTIFIED BY 'PASSWORD';
Where PASSWORD is a unique and strong password.

Give the new user the necessary permissions with the command:

GRANT ALL PRIVILEGES ON nextcloud.* TO 'nextcloud'@'localhost';
Flush the privileges and exit the console with the commands:

FLUSH PRIVILEGES;exit
exit
wget https://download.nextcloud.com/server/releases/nextcloud-20.0.0.zip

sud 

unzip nextcloud-20.0.0.zip

 
De volgende 2 commando’s staan hieronder
	sudo mv nextcloud /var/www/html
	sudo chown -R www-data /var/www/html/nextcloud 
	sudo chown -R www-data:www-data /var/www/html/nextcloud 
	sudo nano /etc/apache2/sites-available/nextcloud.conf
In that file, paste the following:

Alias /nextcloud "/var/www/html/nextcloud/"
<Directory /var/www/html/nextcloud/>
    Options +FollowSymlinks
    AllowOverride All
      <IfModule mod_dav.c>
        Dav off
      </IfModule>     

     SetEnv HOME /var/www/html/nextcloud
    SetEnv HTTP_HOME /var/www/html/nextcloud
</Directory>
Save and close the file. 

Enable the new site with the command:

sudo a2ensite nextcloud
We'll now enable the necessary Apache modules by issuing the command:

sudo a2enmod rewrite headers env dir mime
Finally, we'll change the PHP memory limit with the command:su

sudo sed -i '/^memory_limit =/s/=.*/= 512M/' /etc/php/7.4/apache2/php.ini
Restart Apache with the command:

sudo systemctl restart apache2
How to finish the installation
Your venture into the command line is complete. Now you can open a browser and point it to http://SERVER_IP/nextcloud (where SERVER_IP is the IP address of the hosting server). You'll first be greeted by the web-based installer (Figure A).
	
  
sudo nano /etc/apache2/sites-available/nextcloud.conf/
su 
sudo a2ensite nextcloud
 
sudo a2enmod rewrite headers env dir mime
 
 
Het ip-adres van de Ubuntu server wordt in de browser gezet. Je typt http://10.0.2.15/nextcloud en hieronder zie je het resultaat.
 
 
De gebruikte username en wachtwoord is ingevuld en hieronder zie je dat ik ben ingelogd als admin user
 
Forward look up zone 
Zone maak je aan
Xprotex.com new host genaamd lamp en de ubuntu server 10.0.2.15
Je gaat naar de file (ubuntu server)
Cd var/www/html/nextcloud/config
Cd /var
Cd www
Cd html
Cd nextcloud
Cd config/
Sudo nano config.php
De ip-adres en de naam type
10.0.2.15 en lamp
Webbrowser http:/lamp/nextcloud
Dan zie je nextcloud


ipplan in Technische ontwerp
ip adrres subnet gateway 0-255 1e en laatste mag niet gebruikt worden
server linux 192.168.10.2 255.255.255.0 192.168.10.1 1-254
microsoft server
printer
wifi 1 gereserveerd voor gateway
pin automaat 1 t/m 10 servers
werkstation 11 t/m 20 werkstations
21-30 printers
31-40 pin automaat
	
	in index.html 
naar pad /var/www/html/index.html

<DOCTYPE HTML>
<html>
<head>
<title>Hello world! Jou naam</title>
</head>
<body>
<h1>Hello world!</h1>

</body>
</html>



/var/wwww/html/nextcloud/config/config.php


installatie virtualhost:






cd /var/www/html/
cd /etc/apache2/sites/-available
sudo systemctl restart apache2
sudo nano nextcloud.conf
<VirtualHost *80>

ServerName www.nextcloud.Assengraaf.nl
ServerAlias nextcloud.Assengraaf.nl
DocumentRoot /var/www/html/nextcloud

<virtualHost>



# Ensure that Apache listens on port 80
Listen 80
<VirtualHost *:80>
    DocumentRoot "/www/example1"
    ServerName www.example.com

    # Other directives here
</VirtualHost>

<VirtualHost *:80>
    DocumentRoot "/www/example2"
    ServerName www.example.org

    # Other directives here
</VirtualHost>





unauthorizeddomain
•So, just go to/config/www/nextcloud/config and add your domain tothe config.php

















defaultpage weg halen
cd /var/www/html
ls -l
index.html
sudo cp index.html index.html2
sudo rm index.html
sudo touch index.html
sudo nano index.html
<DOCTYPE! HTML>
	
	Belangtijkste linux commando's/ met uitleg wat de commando's betekenen.

ls -l) dient voor om de kijken wat er in pad zit
getent passwd
getent passwd |cut -d: -f1
ls -ld) 
stat /etc/named
chown
chgrp
id
whoami
groups
newgrp
exit
usermod - g groupname username
chgrp -R

chown user:group <file|directory>
chown user <file|directory>
chown :group <file|directory>
ls -l  /etc/passwd

sudo -i) om als root in te loggen

id) om de huidige identiteit te zien van je huidige account

chmod) permisions wijzigen
chmod u+x filenaam
chmod gr+r filename
chmod a-r filname
chmod g=rx filname


- A regular file which may be empty, contain text or binary data.
d A directory file which contains the names of other files and links to them.
l A symbolic link is a file name that refers (points) to another file.
b A block file is one that relates to a block hardware device where data is read in blocks of data.
c A character file is one that relates to a character hardware device where data is read one byte at a time.
p A pipe file works similar tothe pipe symbol, allowing for the output of one process to communicate to another process through the pipe file, where the output of the one process is used as input for the other process.
s A socket file allows two processes to communicate, where both processes are allowed to either send or receive data.

permissions
r 4
w 2
x 1
rwx=777
chmod 711 filename
~ betekent home directory
/ betekend root directory
umask
/home/bob je gaan naar gebruiker bob
pwd
cd= kan je surfen naar mappen
~bob je benty in bob's home directory
.. je kunt twee stappen naar voren

ls
-a– display all files, including hidden files
-l– long display listing
-h– Give file sizes in human readable sizes
-R– Recursive listing
-S– Sort output based on file size
-t– Sort output based on modification time

–plain fileA file that isn't a special file type
–directoryA directory file (contains other files)
–executableA file that can be run like a program
–symbolic linkA file that points to another file
-d– Don’t display directory contents

cp kopieren
Use –voption to display copy process
Use –ito prompt overwrites
Use –nto avoid overwrites
Use –rto copy directory structures

mv verplaatsen
-i
-n
-v

touch file aanmaken
rm verwijderen
rm -i
rm -r

mkdir maakt mappen aan directory

--color


2 editors
vi/vim
nano

ctrl X exit
ctrl W find
ctrl G helpt je

shebang
#! of je de script wilt gebruiken
#! /bin/sh
#! /usr/bin/ruby

Variables
–FOO=“hello”
–CWD=`pwd`
–BAR=“Hello $NAME”
•Using (need a $):
–$FOO
–echo “Hello $NAME”

conditionals
if something; the     # something returns an exit code.
do this                 if it 0, then 'do this'
fi                      will be executed up until fi


if something; then                        # alternative syntax, allows
do this                                      for multiple tests and a
elif soomething else; then do that           default option if you want
else 
try this
fi


teststest
–f /tmp/foo    # test if file exists
test ! –f /tmp/foo# test if file doesn’t exist
test $A –eq1          # is $A = 1 (numeric)
test “$B” = “Hello” # string comparison
test $A –lt 10         # $A < 10?

alternatively, [ is the same as test:
if test –f /tmp/foo; then # it works
if [ -f /tmp/foo ]; then     # looks much nicer!


Case
case ”$GREETING" in
hello|hi)
echo "hello yourself"
;;
goodbye)
echo "nice to have met you"
echo "I hope to see you again"
;;
*)
echo "I didn't understand that"
esac


Loops

the for loops

Operates over a fixed set of items or a glob
NAMES=“Alice Bob Charlie”
for N in $NAMES; do
echo “Hello $N”
done
for FILE in *; do
ls –l $FILE
done

While loops

Tests the loop condition each time
while [ ! –f /tmp/foo ]; do
try_to_make_foo# makes /tmp/foo on success
sleep 1  # wait 1 sec
done
•Used when the number of loops is unknown or changes each loop



Nieuwe eisen•
Aanpassen index.html (Apache default webpage)
•Maken IP plan•
Linux server een vaste IP adres•
Werkstation via DHCP (Windows server)•
Nextcloudvia DNS (A record aanmaken)•
Uitleggen de commandsdie je hebt gebruikt 
* Archiveren van gemaakte bestanden (directory structuur en zip file van maken) als zipbestand inleveren


Technisch Ontwerp Services
•IP -PLAN•
DNS•
DHCP•
LAMP•
Apache•
MySQL•
PHP•
Nextcloud
•Database query
•AD•Groepen•

Mappenstructuur•
map groep leden rechten

Enz.

Basic Cisco commands
•Enter•
Enable•
Sh run•Sh vlan
•Sh ipint brief•
Configt
•Exit
	
	Apache activeren (sudo systemctl start apache2)

Mysql activeren (sudo systemctl start mysql)

Php activeren (sudo systemctl start php)

	sudo cd /var/www/html/nextcloud/config/
	sudo nano config.php
	
	\\DC01-A\Homefolders\%username%

	Alle medewerkers hebben toegang tot internet. De volgende poorten dienen te zijn geopend.

• Interne poorten 80 (http)

443 (https)

53 (dns)

download nextcloud
	10.0.2.15/nextcloud
	plakken bij die software nextcloud
